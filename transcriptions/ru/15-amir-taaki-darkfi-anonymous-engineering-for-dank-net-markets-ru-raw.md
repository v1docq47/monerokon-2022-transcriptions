# Амир Тааки

_**Амир Тааки - DarkFi: Анонимное проектирование рынков даркнета**_

_Monero Konferenco  #MoneroKon2022 Day 2_

[https://youtu.be/7TM-beB9DFM](https://youtu.be/7TM-beB9DFM)

---

_**Амир:**_ Итак, в чём суть парадигмы даркнета? Это агоризм, свободный рынок, экономика, прямая демократическая экономика, народная экономика. Фактически, это большая часть мировой экономики, ведь большая часть мира не является частью западной системы или установившейся банковской системы. Например, на Ближнем Востоке у людей очень сильные моральные устои, сильные союзы, племена или семьи. Именно поэтому государства очень авторитарны, потому что, на самом деле, они очень слабы, и люди там не пользуются банковскими услугами — люди там не доверяют банкам и пользуются неформальными системами перевода денег, такими как Hawala. И что интересно, сейчас в Ливане, например, в электронных магазинах торгуют за USD Tether в сети Tron, и вы можете там свободно обменять USD Tether. А в Египте маржа при обмене USD Tether на 15 процентов выше, чем при обмене обычного доллара. Так что, если я продаю USDT, я получаю 15 дополнительных процентов в долларовом эквиваленте. Очень интересная криптовалюта.

Кроме того, криптоанархисты считают, что мы могли бы использовать эти современные криптографические инструменты «тёмных пространств» в интернете, подобных джунглям, в которых, например, могут прятаться гориллы, то есть, их защищает сама природа. В то время как авторитарная, тоталитарная система стремится превратить всё в пустыню — полностью подконтрольное, просматриваемое пространство.

Поэтому нам необходимо географически разделить интернет, и сделать это позволяет криптография. Сейчас криптография переживает свой ренессанс — в криптографии происходит множество прорывов: многосторонние вычисления, доказательства с нулевым разглашением, полностью гомоморфное шифрование. Даже с точки зрения математики появляется очень много интересных теорий по потребительскому кредитованию, гиперэклектике, всевозможным устройствам и прочему. Я никогда ранее не наблюдал подобного развития криптографии. И это открывает совершенно новое пространство для проектирования и разработки приложений, создание которых ранее было просто невозможно.

И с одной стороны, развитие криптографии происходит довольно стремительно — благодаря криптовалютам много денег идёт на исследования в области криптографии, и имеющиеся у нас инструменты открывают новые возможности для проектирования — но с другой стороны, правительство всеми силами стремится к регулированию криптовалют. В настоящее время USD Tether представляется весьма сомнительным стейблкоином, поскольку его стоимость подкрепляется сомнительными источниками: инструментами, например, и прочими подобными вещами. Но, по сути, они занимаются тем, что раздувают денежную массу доллара США. И это единственное, что может сделать центральный банк. Так что криптовалюты — это большая угроза для доллара, доллара как системы. Такие системы, как, например, DAO или Make a DAO, обеспечены возможностью использования виртуальной валюты в киберпространстве для создания ещё большего количества долларов из воздуха. Таким образом, основная власть центральных банков над экономикой заключается в выделении новых кредитов и распределении этих кредитов. Поэтому криптовалюты представляют для них реальную угрозу, равно как и DeFi и анонимные технологии.

И сейчас люди инстинктивно чувствуют, что ландшафт меняется и появляются механизмы, с помощью которых власти будут пытаться жёстко регулировать Bitcoin, или Комиссия по ценным бумагам и биржам, которая, по крайней мере, не ставила препятствий многим главам DeFi проектов, а некоторые даже были созданы с участием комиссии. Так что криптовалютный мир разделится на две части: будут полностью контролируемые, ни на что не годные KYC проекты — белая сторона криптовалюты, которую мы называем RegFi, а другая сторона будет независимой, она будет «подпольно», и будет создана с помощью того, что мы называем DarkFi. Концепция DarkFi обеспечит появление той стороны криптовалютного мира, которая останется нерегулируемой, и она будет вынужденно внедрять сильные анонимные технологии.

Так что Monero — это что-то вроде наличных денег, которые являются основной ценностью, и обращение которыми происходит на рынках даркнета. У Monero есть этика сообщества, и монета реально работает на этих рынках. Это тип денег, эквивалент того, чем Bitcoin является для Ethereum. А DarkFi — это прикладной уровень, на котором будет происходить их применение.

Появилась новая область, которая называется «анонимным проектированием». И это действительно новое направление, над выработкой концепции которого мы сейчас работаем. Мы уже находимся в процессе создания приложений. Мы изобретаем новые технологии или новые конструкции, которые мы сможем использовать для создания приложений. По мере развития этой области их можно будет обобщить, чтобы эксперты могли без труда создавать приложения.

И я хотел бы сравнить, чем отличается разработка программного обеспечения от криптографического проектирования. Криптографическое проектирование предполагает создание примитивов, например, если я разрабатываю новый Zk-алгоритм или новый тип схемы подписи. Разработка программного обеспечения — это создание рабочего кода, который может передавать команды, а анонимное проектирование — это когда я хочу создать приложение, используя эти криптографические технологии или криптографические примитивы для разработки схем или разработки приложений.

Итак, стандартная идея смарт-контракта заключается в том, что у вас есть функция, вы вызываете её и выполняете, чтобы изменить одно состояние на другое. И все в сети выполняют этот алгоритм, алгоритм смарт-контракта. Но Zk-контракт — это совсем другое. Когда мы имеем дело с анонимностью, информация о вас полностью скрыта и приватна, и вы не хотите раскрывать эту информацию. Поэтому принцип работы заключается в том, что у вас есть доказательство, то есть, кто-то что-то доказывает, и есть верификатор. И я создаю контракт, который определяет правила, а затем я создаю доказательство. Когда я передаю вам это доказательство, доказательство содержит некоторое утверждение, связанное с секретными данными, которые у меня имеются, и не раскрывает при этом сами секретные данные. Например, если бы я хотел, чтобы вы воспроизвели это изменение в состоянии, чтобы выполнить эту функцию обычным образом, я бы предоставил вам эти данные, и вы бы просто запустили функцию с теми же данными и получили бы тот же результат. В случае с Zk-контрактом всё обстоит иначе. Например, я создаю доказательство какого-то события или некоторой связи между моими данными, а затем передаю вам его, а вы проверяете, верно оно или нет.

Например... так, тут ошибка, здесь написано «анонимная форма», а должно быть «анонимный стиль». Итак, «анонимное голосование». Если я хочу, например, опубликовать предложение, мне нужно иметь определённое количество токенов управления. Я могу создать доказательство того, что количество токенов управления в моём кошельке превышает лимит, указанный в DAO. И обе эти величины анонимны — никто в сети не может увидеть эту DAO, что это за параметр указан в окне. И эта схема была довольно сложной — требовалось минимальное количество токенов управления, чтобы сделать предложение, а также нельзя было увидеть, например, что вы достигли порогового значения, но также нельзя было увидеть, какие токены находятся у вас в кошельке. Таким образом, схема является совершенно анонимной. Верификатор не сможет увидеть ни одного из этих атрибутов, ни одного из этих значений, но он увидит, что утверждение является действительным, после чего машина состояний обновится, и предложение станет реальным.

Итак, я продемонстрирую несколько примеров. Допустим, я хочу провести анонимное голосование. Способ, с помощью которого я могу это сделать, заключается в том, что я создаю случайный серийный номер, но не передаю его в сеть, я даю обязательство по этому серийному номеру. Для этого я создаю зашифрованный хеш серийного номера, и никто не знает, что это за серийный номер. Всем просто известно, что это новый выход. И если вы начинаете раунд голосования, в начале каждый человек, имеющий право голоса, создаёт одно из таких обязательств, а затем, после того как обязательства будут созданы, начнётся голосование. По сути, люди безвозвратно сжигают каждое из обязательств, и никому не известно, кому принадлежит каждое из обязательств. Таким образом, связь полностью разрывается. Это делается с помощью доказательства с нулевым разглашением, когда вы публично раскрываете серийный номер, который был внутри зашифрованного хеша, внутри обязательства, то есть, вы создаёте доказательство, говорящее, что вы создаёте зашифрованный хеш серийного номера, который является детерминированным, и мы получаем монету, и эта монета находится среди множества, извините, обязательство мы называем монетой, находится среди множества действительных монет, которые были созданы в начале, ещё до голосования. Всё это делается с помощью дерева Меркла.

Итак, это операция сжигания, её так же можно назвать контрактом сжигания. И здесь сказано, что она производится фактическим кодом — мы не раскрываем серийный номер, мы раскрываем то, что называется аннулирующей функцией, которая обнуляет серийный номер, так что его нельзя использовать повторно. При этом можно увидеть как выводится и хешируется публичный ключ, когда создаётся монета или обязательство, но происходит это приватно, ничего не раскрывается полностью. Кроме того, у нас имеется доказательство, созданное с помощью дерева Меркла, а также обязательство Педерсена.

Затем эта схема может быть обобщена и распространяться на платежи. То значение монеты, о котором мы говорили, по сути, внутрь монеты можно поместить любое количество дополнительных атрибутов, а затем предоставлять утверждения в отношении этих атрибутов. Таким образом, в отличие от голосования, где мы просто имеем один голос на человека, в случае с монетой у неё имеется определённая ценность. Так что, если я отправляю ценность кому-то другому, я отправляю не всю монету, а только её часть — например, я могу разделить монету на две части, и одна из них вернётся в мой кошелёк, а другая отправится другому человеку. Таким образом, мы можем создать транзакцию, и это часть, связанная с созданием это монеты. А тут мы имеем дело со сжиганием. По сути, очень похоже на голосование, только расширенное, с дополнительной ценностью, которая является обязательством Педерсена по стоимости токена. И затем вы можете использовать это. В данном случае мы говорим о ценности как об атрибуте, но вы также можете поместить туда другие атрибуты — ID токена, ведь в сети может находиться несколько разных токенов, вы можете разместить теги траты, когда будете тратить токены, также будет необходимо реализовать дополнительный смарт-контракт, и, возможно, в этом смарт-контракте будут хранить некоторые другие данные, данные пользователя.

И если у вас есть эти данные, вы можете проводить свопы, простые свопы между людьми. Таким образом создаётся транзакция, и это очень просто. Один человек создаёт один вход, другой человек создаёт другой вход, и оба публикуют зашифрованный хеш публичного ключа. Но затем на выходе проверяется, принадлежит ли зашифрованный хеш такому публичному ключу. Таким образом, вы не будете знать публичный ключ, но будете вы знать, что он совпадает. Затем у нас имеется функция перехода состояния, которая соответствует функции, вызываемой в смарт-контракте. Вы проводите дополнительную проверку, которая показывает, имеет ли первый вход один и тот же публичный ключ с первым выходом. Это зашифрованные суммы и тип валюты, и, благодаря зашифрованным хешам, вы просто видите, что они соответствуют. И вы делаете то же самое со вторым входом и вторым выходом.

Это простая система проведения свопов, и даже она может быть обобщена для создания анонимных схем, над которыми мы работаем — прежде всего, мы имеем схему, разработанную на базе криптографических и Zk-решений, и теперь мы уже работаем над созданием приложения. В следующем месяце мы собираемся опубликовать демо, которое будет представлять собой ту же обычную платёжную систему, но, поскольку речь идёт о нескольких валютах, она будет использовать свой собственный ID, и вы сможете иметь обычную валюту или несколько валют, а также токен управления для DAO, для создания новой DAO, который будет являться зашифрованным хешем с уймой атрибутов, например, лимитом предложений, минимальным количеством токенов, необходимым для того, чтобы предложение стало действительным, кворумом, то есть необходимым для того, чтобы голосование состоялось — для этого требуется определённое количество голосов, определённый уровень активности, и коэффициент одобрения не означает порогового значения, равного 55 или 70. Допустим, это будут восемь процентов, и тогда люди смогут отправить средства DAO, и когда они будут делать это, они будут тратить тег, о котором я говорил ранее. Он будет включать в себя другой контракт, связанный с ним, говорящий о дополнительных условиях, которые необходимо будет соблюсти, чтобы потратить средства в DAO. При этом будет создаваться доказательство, демонстрирующее, что количество моих токенов управления больше, чем предусмотренный лимит, необходимый для того, чтобы сделать действительное предложение в DAO. И такое предложение пока является довольно простым, но оно может быть и более сложным, но на данном этапе оно просто говорит, что это предложение по переводу X средств из DAO в соответствии с определённым ключом. А затем все передают зашифрованные голоса, и в конце голосования голоса суммируются вместе. При этом голоса зашифрованы, поэтому вы не знаете их, но вам известен тип математического шифрования, позволяющий сложить их все вместе. А затем доказательство успешного голосования передаётся в блокчейн, что позволяет разблокировать средства в DAO для отправки только одному публичному TP в соответствии с предложением. Таким образом, по сути, создаё1тся анонимная DAO.

И поскольку мы хотели сохранить наше сообщество, и сейчас я говорю о Discord и подобных вещах, мы создали нашу собственную анонимную одноранговую систему для общения, которая является частью инструментария DAO. Извините, сейчас я перейду в полноэкранный режим, здесь вы можете увидеть эти одноранговые IRC узлы нашей одноранговой сети. У нас имеется локальный демон для IRC, и вы можете подключиться к любому каналу IRC и общаться друг с другом в одноранговой сети. Нет ничего, что могло бы заблокировать информацию, и любой может изменить свой ник и совершать подобные действия.

Нам очень не нравится, как проекты перехватываются GitHub — они передают все свои данные Microsoft. Поэтому мы создали свою собственную одноранговую систему задач, чтобы мы все могли запускать эти узлы и синхронизировать их между собой, а затем мы можем, если кто-то из вас использовал Taskwarrior, это похожая система, где люди могут подавать задания, вы можете назначать их определённым людям, вы можете устанавливать сроки выполнения, вы можете добавлять аннотации, вы можете приостанавливать их выполнение задачи, как и у всех функций, у них есть ранги, уровни важности и приоритетности.

Таким образом, это часть нашего инструментария DAO. Кроме того, рекомендую всем ознакомиться с этой статьёй, опубликованной на Ego Capital в разделе статей под названием Lunar Park и посвящённой тёмной стороне цикла, мы называем это «положением о тёмном цикле», и именно поэтому я упоминал ранее о RegFi и DarkFi, об этом разделении. Дело в том, что люди, которые пытаются добиться регулирования, когда регуляторы наносят ответный удар, это разрушает их нарратив — они теряют силу, они теряют власть. В нашем случае мы провоцируем правительство, и это заставляет правительство резко выступать против нас. Но это только усиливает то, чем мы занимаемся. Мы говорим: смотрите, это то, о чём мы говорим, это действительно происходит, и это укрепляет нас. Это пример «не хрупкого нарратива». Например, сейчас мы наблюдаем, как меняется отношение правительств к криптовалютам. Это непосредственно касается Monero и мы усиливаем друг друга. Так что сейчас, когда у нас есть проекты, являющиеся страховкой, я покупаю много Monero из-за того, что мы наблюдаем, продвигая этот нарратив. И мы также видим, что Monero занимается тем же. Это укрепляет сообщества. Так что, обязательно прочитайте эту статью. Большое всем спасибо.

_[Аплодисменты]_

Да, кстати, тут у меня множество стикеров, так что, пожалуйста, подходите, берите. Они светятся в темноте.

Вопрос из зала: Возможно, мой вопрос прозвучит несколько наивно, но вы говорите, что сейчас при передаче параметров вы используете гомоморфное шифрование, но почему бы не использовать все возможности?

_**Амир:**_ Да, мы собираемся использовать гомоморфное шифрование — вы можете использовать аппроксимацию для гомоморфного шифрования, приложив доказательство умножения. Вы можете использовать сложение и умножение, вы можете сделать все, что угодно, создать полную функцию. Но сейчас мы просто используем обязательства Педерсена, потому что нам нужно суммировать значения входов и выходов. Это полностью гомоморфный алгоритм шифрования. А вы хотите порекомендовать какой-то другой алгоритм?

Вопрос из зала: Нет, ничего конкретного, но я хотела бы узнать, что предлагаете вы, что по-вашему лучше использовать вместо параметра, который используете вы.

_**Амир:**_ Это не один инструмент. Это множество разных инструментов, которые имеют разные свойства и разные составные части, и вы их комбинируете, чтобы создать приложение. Так, например, умножение очень полезно, потому что позволяет подключить смарт-контракт. Например, если у вас есть концепция, согласно которой смарт-контракту периодически нужно обновить состояние, а для обновления состояния ему нужно знать некоторую информацию. И, как правило, эти предложения публичны в рамках анонимной системы. Как это сделать, если у вас есть масса узлов, которые сами не знают информации, но могут вычислить функцию на основе этих данных, которые распределяются между ними. Вы можете, например, увидеть на рынке, что кто-то ликвидируется, а также, если вам необходимо обновить состояние какого-то параметра и так далее. Это также можно использовать для аудита. Это тоже интересно. Например, в ZCash, когда они развернули новый Zk-алгоритм, Halo 2, они попытались сделать так, чтобы каждый сначала получал прозрачный адрес, чтобы попасть в новую систему, просто чтобы видеть все монеты в прозрачном режиме. Но многие люди раскритиковали это, посчитав, что их заставляют быть анонимными при использовании монет. Но эту проблему можно было бы решить с помощью NPC, не обнародуя информацию в течение нескольких месяцев, не публикуя частичную информацию.

_**Вопрос из зала:**_ Хорошо, спасибо.

_**Модератор:**_ Ещё вопросы?

_**Аудитория:**_ Выглядит так, как если бы вы создавали протокол. У вас ведь нет собственного блокчейна, верно?

_**Амир:**_ Нет, у нас есть свой блокчейн. Мы разрабатываем анонимный блокчейн. Сейчас это простой вариант реализации Streamlab. Но мы работаем над другим алгоритмом консенсуса, который полностью анонимен.

_**Аудитория:**_ Здорово.

_**Модератор:**_ Может быть, ещё один последний вопрос?

_**Аудитория:**_ Итак, в случае с DarkFi вы берете монету из прозрачного блокчейна, и скрываете её, а затем переводите её в Cashera. Но насколько мне известно, они централизованы. Вы занимаетесь их децентрализацией, верно? И адреса, на которые вы отправляете монеты, могут ли они быть связаны с проектами DarkFi, например, если сторонний пользователь захочет просмотреть адрес?

_**Амир:**_ Да, я думаю, это ошибка. Многие проекты или веб-сайты каким-то образом блокируют монеты. То есть, они позволяют связывать адреса. Я думаю, нам нужно просто создать новые адреса для каждого человека, которые будут полностью приватными при взаимодействии сторон.

_**Аудитория:**_ Да, хорошо, спасибо.
